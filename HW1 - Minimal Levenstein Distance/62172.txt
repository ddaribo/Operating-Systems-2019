Домашна работа 1 за ОС-практикум
Божидара Пачилова, ф.н. 62172

Стъпки:

1. Първо се преобразува файла text.txt в по-удобен за търсене вид:


	sed -i -r 's/./\L&/g' text.txt ;		- всички символи да са малки
	sed -i -r 's/\s/\n/g' text.txt ; 		- всяка дума да е на нов ред
	sed -i -r 's/'\[\[:punct:\]\]'//g' text.txt ;	- да няма препинателни знаци


За да не създава нов файл за изхода от командите, се прилага -i. Така изходът се запазва в text.txt.

2. Сортираме text.txt

	sort -u text.txt -o text.txt ;

Чрез -u остават само уникалните думи, а благодарение на -о отново се запазва изходът в същия файл.

3. Намират се само думите, които не се срещат едновременно и в двата файла и се записват в text.txt:

	grep -v -Fwf dic.txt text.txt | tee text.txt 1> /dev/null

-F приема символните низове буквално
-w указва, че ще се търсят думи и изключва включването на поднизове в резултата
-f указва, че низовете ще се взимат от файл
-v обръща резултата, за да изведе думите които НЕ се срещат едновременно (нямат съответсвие)

tee замества всичко от text.txt с подадения вход. Понеже пише на стандартния изход, го пренасочваме.

4. Изпълнява се цикъл за всяка дума от text.txt. За всяка дума черз командата tre-agrep се търси разстоянието на Левенщайн до всяка дума от dic.txt:


	for i in $(cat text.txt); do echo "$i:" $(tre-agrep -99 -B -w -s $i dic.txt); done | cut -d ' ' -f 1,2 | tr -d ' ' ;


tre-agrep се инсталира чрез командата sudo apt-get install tre-agrep.
С -99 се посочва до какво Л. разстояние търсим. 
-s включва самото разстояние във формат цифра:дума.
-B връща най-добрите съвпадения;
Без -w не смята Л. разстоянието коректно.

След | се оформя изхода така, че да остане само желаната двойка, която е останала на първа позиция на сортирането.


Източници:
- https://www.howtogeek.com/299219/how-to-save-the-output-of-a-command-to-a-file-in-bash-aka-the-linux-and-macos-terminal/
- https://www.computerhope.com/unix/ugrep.htm
- https://unix.stackexchange.com/questions/293684/basic-grep-awk-help-extracting-all-lines-containing-a-list-of-terms-from-one-f
- https://www.cyberciti.biz/faq/bash-for-loop/
